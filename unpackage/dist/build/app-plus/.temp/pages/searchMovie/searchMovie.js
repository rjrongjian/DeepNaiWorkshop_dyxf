require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([6],{77:function(e,t,i){"use strict";var n=s(i(1)),a=s(i(78));function s(e){return e&&e.__esModule?e:{default:e}}new n.default(a.default).$mount()},78:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(80),a=i.n(n),s=i(81);var o=function(e){i(79)},r=i(0)(a.a,s.a,o,null,null);t.default=r.exports},79:function(e,t){},80:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(4),s=(n=a)&&n.__esModule?n:{default:n};t.default={components:{uniIcon:s.default},data:function(){return{searchKey:"",isSearching:!1,currentMovieList:[]}},methods:{item1:function(){e.showToast({title:"item1"})},item2:function(){e.showToast({title:"item2"})},confirm:function(){this.searchKey?this.searchMovie():e.showToast({icon:"none",title:"请指定关键字"})},goDetail:function(t){e.navigateTo({url:"../movieDetail/movieDetail?data="+JSON.stringify(t)})},searchMovie:function(){var t=this,i=this.$myMovieApi.getMovieApi();if(i){var n=i.searchMovieIds+this.searchKey;e.showLoading(),this.currentMovieList=[],console.log("获取的搜索url："+n),e.request({url:n,success:function(i){if(200!==i.statusCode)e.hideLoading(),e.showModal({title:"温馨提示",content:"搜索失败["+i.statusCode+"]，请加QQ群联系群主",showCancel:!1,confirmText:"确定"});else if(i.data)try{var n=t.$myXml2Json.xml_str2json(i.data),a=n.rss.list._recordcount;if(console.log("通过关键词匹配的记录数"+a),a&&a>0){for(var s=t.$myXml2Json.asArray(n.rss.list.video),o=0;o<s.length;o++){var r=s[o];if(!t.$myMovieApi.isShieldingMovieId(r.id)){var c=r.last,l=r.id,u=r.name,d=r.type,v=r.pic,g=r.lang,h=r.area,p=r.year,f=r.note,m=r.actor,w=r.director,y=r.des,M=t.$myXml2Json.asArray(r.dl.dd);y&&(y=(y=(y=(y=y.replace(new RegExp("<div>","g"),"")).replace(new RegExp("</div>","g"),"")).replace(new RegExp("&mdash;","g"),"-")).replace(new RegExp("&","g"),"")),w&&(w=(w=(w=(w=w.replace(new RegExp("<div>","g"),"")).replace(new RegExp("</div>","g"),"")).replace(new RegExp("&mdash;","g"),"-")).replace(new RegExp("&","g"),"")),m&&(m=(m=(m=(m=m.replace(new RegExp("<div>","g"),"")).replace(new RegExp("</div>","g"),"")).replace(new RegExp("&mdash;","g"),"-")).replace(new RegExp("&","g"),""));for(var _={},x=0;x<M.length;x++){var R=M[x]._flag,C=M[x];R&&-1!=R.indexOf("m3u8")&&(R="m3u8");var E=C.toString();_[R]=E}var L={id:l,updateTime:c,name:u,type:d,pic:v,language:g,area:h,year:p,note:f,actor:m,director:w,des:y,resUrl:_};t.currentMovieList.push(L)}}e.hideLoading()}else e.hideLoading(),e.showToast({title:"暂未搜到结果，请调整关键词",duration:2e3,icon:"none"})}catch(t){e.hideLoading(),e.showToast({title:"获取搜索结果失败",duration:2e3,icon:"none"})}else e.hideLoading(),e.showToast({title:"获取搜索结果失败",duration:2e3,icon:"none"})}})}else console.log("不能获取电影列表接口")}},onPullDownRefresh:function(){e.showToast({title:"初始化搜索框"}),setTimeout(function(){e.reLaunch({url:"../searchMovie/searchMovie"})},1e3)}}}).call(t,i(2).default)},81:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"main"},[i("view",{staticClass:"header-1"},[i("view",{staticClass:"input-view-1"},[i("uni-icon",{attrs:{type:"search",size:"22",color:"#666666",mpcomid:"7kM-0"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],staticClass:"input-1",attrs:{"confirm-type":"search",type:"text",placeholder:"输入搜索关键词",eventid:"9FW-0"},domProps:{value:e.searchKey},on:{confirm:e.confirm,input:function(t){t.target.composing||(e.searchKey=t.target.value)}}})],1)]),i("view",{staticClass:"page-content-1"},[i("view",{staticClass:"uni-card"},[i("view",{staticClass:"uni-list"},[e.currentMovieList&&e.currentMovieList.length>0?i("block",[i("view",{staticClass:"uni-list-cell-divider"},[e._v("\n\t\t\t\t\t\t搜索结果：\n\t\t\t\t\t")]),e._l(e.currentMovieList,function(t,n){return i("block",{key:n},[i("view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-list-cell-navigate uni-navigate-right",attrs:{eventid:"wc9-1-"+n},on:{tap:function(i){e.goDetail(t)}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.name)+"["+e._s(t.note)+"]\n\t\t\t\t\t\t\t")])])])})],2):e._e()],1)])])])},staticRenderFns:[]};t.a=n}},[77]);